{
  "name": "default",
  "steps": [
    {
      "id": "planning",
      "agent": "product.plan-mode",
      "readonly": true,
      "enabled_by": "WIGGUM_PLAN_MODE"
    },
    {
      "id": "execution",
      "agent": "engineering.software-engineer",
      "max": 3,
      "commit_after": true,
      "config": { "max_iterations": 20, "max_turns": 50, "supervisor_interval": 2 }
    },
    {
      "id": "summary",
      "agent": "general.task-summarizer",
      "readonly": true
    },
    {
      "id": "audit",
      "agent": "engineering.security-audit",
      "max": 3,
      "readonly": true,
      "on_result": {
        "FIX": {
          "id": "audit-fix",
          "agent": "engineering.security-fix",
          "max": 2,
          "commit_after": true
        }
      }
    },
    {
      "id": "test",
      "agent": "engineering.test-coverage",
      "max": 2,
      "commit_after": true,
      "on_result": {
        "FIX": {
          "id": "test-fix",
          "agent": "engineering.generic-fix",
          "max": 2,
          "commit_after": true
        }
      }
    },
    {
      "id": "docs",
      "agent": "general.documentation-writer",
      "commit_after": true
    },
    {
      "id": "validation",
      "agent": "engineering.validation-review",
      "max": 2,
      "readonly": true,
      "on_result": {
        "FIX": {
          "id": "validation-fix",
          "agent": "engineering.generic-fix",
          "max": 2,
          "commit_after": true,
          "on_result": {
            "PASS": { "jump": "test" },
            "FIX": { "jump": "test" }
          }
        }
      }
    }
  ]
}
